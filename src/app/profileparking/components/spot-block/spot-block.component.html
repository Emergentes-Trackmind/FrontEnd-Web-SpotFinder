<mat-card class="spot-card" [class]="getStatusColor()" [attr.aria-label]="ariaLabel">
  <mat-card-content>
    <!-- Número del spot -->
    <div class="spot-number">{{ spotNumber }}</div>

    <!-- Badge de estado -->
    <div class="spot-status-badge">
      <mat-icon [class]="getStatusColor()" [matTooltip]="getStatusText()">
        {{ getStatusIcon() }}
      </mat-icon>
    </div>

    <!-- Indicador de estado IoT -->
    <div class="iot-indicator">
      <mat-icon
        [class]="getIotIconColor()"
        [matTooltip]="getIotTooltip()"
        class="iot-icon">
        {{ getIotIcon() }}
      </mat-icon>
    </div>

    <!-- Menú de acciones -->
    <button
      mat-icon-button
      [matMenuTriggerFor]="menu"
      class="spot-menu-button"
      [attr.aria-label]="actionsLabel"
    >
      <mat-icon>more_vert</mat-icon>
    </button>

    <mat-menu #menu="matMenu">
      <button
        mat-menu-item
        (click)="onMarkAsAvailable()"
        *ngIf="!isAvailable"
      >
        <mat-icon>check_circle</mat-icon>
        <span>Marcar como libre</span>
      </button>

      <button
        mat-menu-item
        (click)="onMarkAsOccupied()"
        *ngIf="!isOccupied"
      >
        <mat-icon>local_parking</mat-icon>
        <span>Marcar como ocupada</span>
      </button>

      <button
        mat-menu-item
        (click)="onOpenDetails()"
        [disabled]="!hasDevice"
      >
        <mat-icon>devices</mat-icon>
        <span>{{ viewDeviceLabel }}</span>
      </button>
    </mat-menu>
  </mat-card-content>
</mat-card>
