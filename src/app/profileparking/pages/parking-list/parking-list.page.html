<div class="parking-list-container">
  <!-- Header -->
  <div class="header">
    <div class="title-section">
      <h1 class="page-title">Mis Parkings</h1>
      <p class="page-subtitle">Selecciona un parking para editar su información</p>
    </div>
  </div>

  <!-- Search Bar -->
  <div class="search-section">
    <mat-form-field appearance="outline" class="search-field">
      <mat-icon matPrefix>search</mat-icon>
      <input matInput
             placeholder="Buscar parking..."
             [formControl]="searchControl">
    </mat-form-field>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <mat-spinner diameter="40"></mat-spinner>
    <p>Cargando parkings...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="hasError && !isLoading" class="error-container">
    <mat-icon class="error-icon">error_outline</mat-icon>
    <h3>Error al cargar los parkings</h3>
    <p>No se pudieron cargar los datos. Inténtalo de nuevo.</p>
    <button mat-button color="primary" (click)="onRetry()">
      <mat-icon>refresh</mat-icon>
      Reintentar
    </button>
  </div>

  <!-- Empty State -->
  <div *ngIf="!isLoading && !hasError && filteredParkings.length === 0 && parkings.length === 0" class="empty-container">
    <mat-icon class="empty-icon">local_parking</mat-icon>
    <h3>Sin parkings registrados</h3>
    <p>Aún no tienes ningún parking registrado. ¡Crea tu primer parking!</p>
    <button mat-raised-button color="primary" (click)="onNewParking()">
      <mat-icon>add</mat-icon>
      Nuevo Parking
    </button>
  </div>

  <!-- No Search Results -->
  <div *ngIf="!isLoading && !hasError && filteredParkings.length === 0 && parkings.length > 0" class="no-results-container">
    <mat-icon class="no-results-icon">search_off</mat-icon>
    <h3>Sin resultados</h3>
    <p>No se encontraron parkings que coincidan con tu búsqueda.</p>
    <button mat-button color="primary" (click)="searchControl.setValue('')">
      <mat-icon>clear</mat-icon>
      Limpiar búsqueda
    </button>
  </div>

  <!-- Parking Grid -->
  <div *ngIf="!isLoading && !hasError && filteredParkings.length > 0" class="parking-grid">
    <app-parking-card
      *ngFor="let parking of filteredParkings; trackBy: trackByParkingId"
      [parking]="parking">
    </app-parking-card>
  </div>
</div>
